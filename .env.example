# 通用端口配置
BACKEND_PORT=8483 # 后端端口
FRONTEND_PORT=3015
BACKEND_HOST=0.0.0.0 # 默认为 0.0.0.0，表示监听所有 IP 地址 不建议动
APP_PORT=3015 # docker 部署时用

# 前端访问后端用
# - 建议默认留空：让前端走同源 `/api`（这样 Cloudflare Tunnel/ngrok 公网访问也能正常工作）
# - 如需直连后端（仅本机访问），可填：http://127.0.0.1:8483
VITE_API_BASE_URL=
# 仅用于 Vite 开发服务器的代理目标（不影响构建产物）
VITE_DEV_PROXY_TARGET=http://127.0.0.1:8483
# 前端请求超时（毫秒）。Dify 对话/检索可能 >10s，建议 60000+
VITE_API_TIMEOUT_MS=60000

VITE_SCREENSHOT_BASE_URL=
VITE_FRONTEND_PORT=3015
# 生产环境配置
ENV=production
STATIC=/static
OUT_DIR=./static/screenshots
NOTE_OUTPUT_DIR=note_results
IMAGE_BASE_URL=/static/screenshots
DATA_DIR=data
# FFMPEG 配置
FFMPEG_BIN_PATH=

# transcriber 相关配置
TRANSCRIBER_TYPE=fast-whisper # fast-whisper/bcut/kuaishou/mlx-whisper(仅Apple平台)/groq
WHISPER_MODEL_SIZE=base

GROQ_TRANSCRIBER_MODEL=whisper-large-v3-turbo # groq提供的faster-whisper 默认为 whisper-large-v3-turbo

# ------------------------------
# Dify（自建）RAG 配置
# ------------------------------
# Dify base url（不用带 /v1）。本机自建一般是 http://localhost
DIFY_BASE_URL=http://localhost
# 你创建的 Dataset UUID（Knowledge -> Dataset）
DIFY_DATASET_ID=
# Service API Key（用于写入知识库）
DIFY_SERVICE_API_KEY=
# Indexing technique: high_quality / economy (keep consistent with dataset settings)
DIFY_INDEXING_TECHNIQUE=high_quality
# App API Key（用于 /v1/chat-messages 对话）
DIFY_APP_API_KEY=
# Dify chat API 要求 body 里必须有 user 字段；任意稳定字符串即可
DIFY_APP_USER=bilinote

# RAG 任务输出目录（status/result 文件）
RAG_OUTPUT_DIR=rag_results

# RAG transcript chunking (pre-merge before Dify splits)
# - Smaller seconds => more precise timestamps, more chunks
# - Keep chars as a safety cap
RAG_TRANSCRIPT_MERGE_MAX_SECONDS=60
RAG_TRANSCRIPT_MERGE_MAX_CHARS=900
